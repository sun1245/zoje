(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.fileupload-process"],a)}else{a(window.jQuery)}}(function(a){a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:true,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(f,c){if(c.disabled){return f}var b=a.Deferred(),e=this.options,d=f.files[f.index];if(a.type(c.maxNumberOfFiles)==="number"&&(e.getNumberOfFiles()||0)+f.files.length>c.maxNumberOfFiles){d.error=e.i18n("maxNumberOfFiles")}else{if(c.acceptFileTypes&&!(c.acceptFileTypes.test(d.type)||c.acceptFileTypes.test(d.name))){d.error=e.i18n("acceptFileTypes")}else{if(c.maxFileSize&&d.size>c.maxFileSize){d.error=e.i18n("maxFileSize")}else{if(a.type(d.size)==="number"&&d.size<c.minFileSize){d.error=e.i18n("minFileSize")}else{delete d.error}}}}if(d.error||f.files.error){f.files.error=true;b.rejectWith(this,[f])}else{b.resolveWith(this,[f])}return b.promise()}}})}));