define(["jquery","tools","jquery.validate.cn"],function(e,a){return function(n){var s={uname:{required:!0},pwd:{required:!0}},t={uname:{required:"还未输入帐号"},pwd:{required:"还未输入密码"}};a.make_validate("frm-login",s,t,0),e("#btn-lostpass").on("click",function(a){a.preventDefault(),e("#login").animate({marginLeft:"-800px",opacity:"0"},600),e("#getpass").animate({marginLeft:"-190px",opacity:"1"},600)}),e("#btn-login").on("click",function(a){a.preventDefault(),e("#getpass").animate({marginLeft:"300px",opacity:"0"},600),e("#login").animate({marginLeft:"-190px",opacity:"1"},600)}),e("#btn-getpass").on("click",function(a){a.preventDefault(),e.ajax({url:n.getpass,type:"POST",dataType:"json",data:{email:e("#email").val(),_cfs:e.cookie("_cfc")}}).done(function(a){console.log("success"),console.log(a);var n="alert-error";1===a.status&&(n="alert-success",e("#pass-msg").removeClass("alert-error"),e("#pass-msg").addClass("alert-success")),e("#pass-msg").removeClass("hide"),e("#pass-msg").children("div").html(a.msg)}).fail(function(){console.log("error")}).always(function(){console.log("complete")})})}});